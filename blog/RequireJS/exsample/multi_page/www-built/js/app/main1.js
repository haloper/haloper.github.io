//     Underscore.js 1.3.3
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore is freely distributable under the MIT license.
//     Portions of Underscore are inspired or borrowed from Prototype,
//     Oliver Steele's Functional, and John Resig's Micro-Templating.
//     For all details and documentation:
//     http://documentcloud.github.com/underscore

//     (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

define("app/controller/c1",["./Base"],function(t){var e=new t("Controller 1");return e}),define("app/model/m1",["./Base"],function(t){var e=new t("This is the data for Page 1");return e}),function(){function t(e,n,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;if(e._chain&&(e=e._wrapped),n._chain&&(n=n._wrapped),e.isEqual&&E.isFunction(e.isEqual))return e.isEqual(n);if(n.isEqual&&E.isFunction(n.isEqual))return n.isEqual(e);var r=c.call(e);if(r!=c.call(n))return!1;switch(r){case"[object String]":return e==String(n);case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var s=i.length;s--;)if(i[s]==e)return!0;i.push(e);var o=0,a=!0;if("[object Array]"==r){if(o=e.length,a=o==n.length)for(;o--&&(a=o in e==o in n&&t(e[o],n[o],i)););}else{if("constructor"in e!="constructor"in n||e.constructor!=n.constructor)return!1;for(var u in e)if(E.has(e,u)&&(o++,!(a=E.has(n,u)&&t(e[u],n[u],i))))break;if(a){for(u in n)if(E.has(n,u)&&!o--)break;a=!o}}return i.pop(),a}var e=this,n=e._,i={},r=Array.prototype,s=Object.prototype,o=Function.prototype,a=r.slice,u=r.unshift,c=s.toString,l=s.hasOwnProperty,h=r.forEach,f=r.map,d=r.reduce,p=r.reduceRight,v=r.filter,g=r.every,y=r.some,m=r.indexOf,b=r.lastIndexOf,_=Array.isArray,w=Object.keys,x=o.bind,E=function(t){return new F(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=E),exports._=E):e._=E,E.VERSION="1.3.3";var A=E.each=E.forEach=function(t,e,n){if(null!=t)if(h&&t.forEach===h)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,s=t.length;r<s;r++)if(r in t&&e.call(n,t[r],r,t)===i)return}else for(var o in t)if(E.has(t,o)&&e.call(n,t[o],o,t)===i)return};E.map=E.collect=function(t,e,n){var i=[];return null==t?i:f&&t.map===f?t.map(e,n):(A(t,function(t,r,s){i[i.length]=e.call(n,t,r,s)}),t.length===+t.length&&(i.length=t.length),i)},E.reduce=E.foldl=E.inject=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return i&&(e=E.bind(e,i)),r?t.reduce(e,n):t.reduce(e);if(A(t,function(t,s,o){r?n=e.call(i,n,t,s,o):(n=t,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return n},E.reduceRight=E.foldr=function(t,e,n,i){var r=arguments.length>2;if(null==t&&(t=[]),p&&t.reduceRight===p)return i&&(e=E.bind(e,i)),r?t.reduceRight(e,n):t.reduceRight(e);var s=E.toArray(t).reverse();return i&&!r&&(e=E.bind(e,i)),r?E.reduce(s,e,n,i):E.reduce(s,e)},E.find=E.detect=function(t,e,n){var i;return k(t,function(t,r,s){if(e.call(n,t,r,s))return i=t,!0}),i},E.filter=E.select=function(t,e,n){var i=[];return null==t?i:v&&t.filter===v?t.filter(e,n):(A(t,function(t,r,s){e.call(n,t,r,s)&&(i[i.length]=t)}),i)},E.reject=function(t,e,n){var i=[];return null==t?i:(A(t,function(t,r,s){e.call(n,t,r,s)||(i[i.length]=t)}),i)},E.every=E.all=function(t,e,n){var r=!0;return null==t?r:g&&t.every===g?t.every(e,n):(A(t,function(t,s,o){if(!(r=r&&e.call(n,t,s,o)))return i}),!!r)};var k=E.some=E.any=function(t,e,n){e||(e=E.identity);var r=!1;return null==t?r:y&&t.some===y?t.some(e,n):(A(t,function(t,s,o){if(r||(r=e.call(n,t,s,o)))return i}),!!r)};E.include=E.contains=function(t,e){var n=!1;return null==t?n:m&&t.indexOf===m?t.indexOf(e)!=-1:n=k(t,function(t){return t===e})},E.invoke=function(t,e){var n=a.call(arguments,2);return E.map(t,function(t){return(E.isFunction(e)?e||t:t[e]).apply(t,n)})},E.pluck=function(t,e){return E.map(t,function(t){return t[e]})},E.max=function(t,e,n){if(!e&&E.isArray(t)&&t[0]===+t[0])return Math.max.apply(Math,t);if(!e&&E.isEmpty(t))return-(1/0);var i={computed:-(1/0)};return A(t,function(t,r,s){var o=e?e.call(n,t,r,s):t;o>=i.computed&&(i={value:t,computed:o})}),i.value},E.min=function(t,e,n){if(!e&&E.isArray(t)&&t[0]===+t[0])return Math.min.apply(Math,t);if(!e&&E.isEmpty(t))return 1/0;var i={computed:1/0};return A(t,function(t,r,s){var o=e?e.call(n,t,r,s):t;o<i.computed&&(i={value:t,computed:o})}),i.value},E.shuffle=function(t){var e,n=[];return A(t,function(t,i,r){e=Math.floor(Math.random()*(i+1)),n[i]=n[e],n[e]=t}),n},E.sortBy=function(t,e,n){var i=E.isFunction(e)?e:function(t){return t[e]};return E.pluck(E.map(t,function(t,e,r){return{value:t,criteria:i.call(n,t,e,r)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;return void 0===n?1:void 0===i?-1:n<i?-1:n>i?1:0}),"value")},E.groupBy=function(t,e){var n={},i=E.isFunction(e)?e:function(t){return t[e]};return A(t,function(t,e){var r=i(t,e);(n[r]||(n[r]=[])).push(t)}),n},E.sortedIndex=function(t,e,n){n||(n=E.identity);for(var i=0,r=t.length;i<r;){var s=i+r>>1;n(t[s])<n(e)?i=s+1:r=s}return i},E.toArray=function(t){return t?E.isArray(t)?a.call(t):E.isArguments(t)?a.call(t):t.toArray&&E.isFunction(t.toArray)?t.toArray():E.values(t):[]},E.size=function(t){return E.isArray(t)?t.length:E.keys(t).length},E.first=E.head=E.take=function(t,e,n){return null==e||n?t[0]:a.call(t,0,e)},E.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},E.last=function(t,e,n){return null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},E.rest=E.tail=function(t,e,n){return a.call(t,null==e||n?1:e)},E.compact=function(t){return E.filter(t,function(t){return!!t})},E.flatten=function(t,e){return E.reduce(t,function(t,n){return E.isArray(n)?t.concat(e?n:E.flatten(n)):(t[t.length]=n,t)},[])},E.without=function(t){return E.difference(t,a.call(arguments,1))},E.uniq=E.unique=function(t,e,n){var i=n?E.map(t,n):t,r=[];return t.length<3&&(e=!0),E.reduce(i,function(n,i,s){return(e?E.last(n)===i&&n.length:E.include(n,i))||(n.push(i),r.push(t[s])),n},[]),r},E.union=function(){return E.uniq(E.flatten(arguments,!0))},E.intersection=E.intersect=function(t){var e=a.call(arguments,1);return E.filter(E.uniq(t),function(t){return E.every(e,function(e){return E.indexOf(e,t)>=0})})},E.difference=function(t){var e=E.flatten(a.call(arguments,1),!0);return E.filter(t,function(t){return!E.include(e,t)})},E.zip=function(){for(var t=a.call(arguments),e=E.max(E.pluck(t,"length")),n=new Array(e),i=0;i<e;i++)n[i]=E.pluck(t,""+i);return n},E.indexOf=function(t,e,n){if(null==t)return-1;var i,r;if(n)return i=E.sortedIndex(t,e),t[i]===e?i:-1;if(m&&t.indexOf===m)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(i in t&&t[i]===e)return i;return-1},E.lastIndexOf=function(t,e){if(null==t)return-1;if(b&&t.lastIndexOf===b)return t.lastIndexOf(e);for(var n=t.length;n--;)if(n in t&&t[n]===e)return n;return-1},E.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=0,s=new Array(i);r<i;)s[r++]=t,t+=n;return s};var S=function(){};E.bind=function(t,e){var n,i;if(t.bind===x&&x)return x.apply(t,a.call(arguments,1));if(!E.isFunction(t))throw new TypeError;return i=a.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(e,i.concat(a.call(arguments)));S.prototype=t.prototype;var r=new S,s=t.apply(r,i.concat(a.call(arguments)));return Object(s)===s?s:r}},E.bindAll=function(t){var e=a.call(arguments,1);return 0==e.length&&(e=E.functions(t)),A(e,function(e){t[e]=E.bind(t[e],t)}),t},E.memoize=function(t,e){var n={};return e||(e=E.identity),function(){var i=e.apply(this,arguments);return E.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},E.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},E.defer=function(t){return E.delay.apply(E,[t,1].concat(a.call(arguments,1)))},E.throttle=function(t,e){var n,i,r,s,o,a,u=E.debounce(function(){o=s=!1},e);return function(){n=this,i=arguments;var c=function(){r=null,o&&t.apply(n,i),u()};return r||(r=setTimeout(c,e)),s?o=!0:a=t.apply(n,i),u(),s=!0,a}},E.debounce=function(t,e,n){var i;return function(){var r=this,s=arguments,o=function(){i=null,n||t.apply(r,s)};n&&!i&&t.apply(r,s),clearTimeout(i),i=setTimeout(o,e)}},E.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments))}},E.wrap=function(t,e){return function(){var n=[t].concat(a.call(arguments,0));return e.apply(this,n)}},E.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},E.after=function(t,e){return t<=0?e():function(){if(--t<1)return e.apply(this,arguments)}},E.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)E.has(t,n)&&(e[e.length]=n);return e},E.values=function(t){return E.map(t,E.identity)},E.functions=E.methods=function(t){var e=[];for(var n in t)E.isFunction(t[n])&&e.push(n);return e.sort()},E.extend=function(t){return A(a.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t},E.pick=function(t){var e={};return A(E.flatten(a.call(arguments,1)),function(n){n in t&&(e[n]=t[n])}),e},E.defaults=function(t){return A(a.call(arguments,1),function(e){for(var n in e)null==t[n]&&(t[n]=e[n])}),t},E.clone=function(t){return E.isObject(t)?E.isArray(t)?t.slice():E.extend({},t):t},E.tap=function(t,e){return e(t),t},E.isEqual=function(e,n){return t(e,n,[])},E.isEmpty=function(t){if(null==t)return!0;if(E.isArray(t)||E.isString(t))return 0===t.length;for(var e in t)if(E.has(t,e))return!1;return!0},E.isElement=function(t){return!(!t||1!=t.nodeType)},E.isArray=_||function(t){return"[object Array]"==c.call(t)},E.isObject=function(t){return t===Object(t)},E.isArguments=function(t){return"[object Arguments]"==c.call(t)},E.isArguments(arguments)||(E.isArguments=function(t){return!(!t||!E.has(t,"callee"))}),E.isFunction=function(t){return"[object Function]"==c.call(t)},E.isString=function(t){return"[object String]"==c.call(t)},E.isNumber=function(t){return"[object Number]"==c.call(t)},E.isFinite=function(t){return E.isNumber(t)&&isFinite(t)},E.isNaN=function(t){return t!==t},E.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},E.isDate=function(t){return"[object Date]"==c.call(t)},E.isRegExp=function(t){return"[object RegExp]"==c.call(t)},E.isNull=function(t){return null===t},E.isUndefined=function(t){return void 0===t},E.has=function(t,e){return l.call(t,e)},E.noConflict=function(){return e._=n,this},E.identity=function(t){return t},E.times=function(t,e,n){for(var i=0;i<t;i++)e.call(n,i)},E.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},E.result=function(t,e){if(null==t)return null;var n=t[e];return E.isFunction(n)?n.call(t):n},E.mixin=function(t){A(E.functions(t),function(e){M(e,E[e]=t[e])})};var O=0;E.uniqueId=function(t){var e=O++;return t?t+e:e},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/.^/,N={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var T in N)N[N[T]]=T;var I=/\\|'|\r|\n|\t|\u2028|\u2029/g,R=/\\(\\|'|r|n|t|u2028|u2029)/g,C=function(t){return t.replace(R,function(t,e){return N[e]})};E.template=function(t,e,n){n=E.defaults(n||{},E.templateSettings);var i="__p+='"+t.replace(I,function(t){return"\\"+N[t]}).replace(n.escape||j,function(t,e){return"'+\n_.escape("+C(e)+")+\n'"}).replace(n.interpolate||j,function(t,e){return"'+\n("+C(e)+")+\n'"}).replace(n.evaluate||j,function(t,e){return"';\n"+C(e)+"\n;__p+='"})+"';\n";n.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+i+"return __p;\n";var r=new Function(n.variable||"obj","_",i);if(e)return r(e,E);var s=function(t){return r.call(this,t,E)};return s.source="function("+(n.variable||"obj")+"){\n"+i+"}",s},E.chain=function(t){return E(t).chain()};var F=function(t){this._wrapped=t};E.prototype=F.prototype;var q=function(t,e){return e?E(t).chain():t},M=function(t,e){F.prototype[t]=function(){var t=a.call(arguments);return u.call(t,this._wrapped),q(e.apply(E,t),this._chain)}};E.mixin(E),A(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];F.prototype[t]=function(){var n=this._wrapped;e.apply(n,arguments);var i=n.length;return"shift"!=t&&"splice"!=t||0!==i||delete n[0],q(n,this._chain)}}),A(["concat","join","slice"],function(t){var e=r[t];F.prototype[t]=function(){return q(e.apply(this._wrapped,arguments),this._chain)}}),F.prototype.chain=function(){return this._chain=!0,this},F.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return E})}.call(this),function(){var t,e=this,n=e.Backbone,i=Array.prototype.slice,r=Array.prototype.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="0.9.2";var s=e._;s||"undefined"==typeof require||(s=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;t.setDomLibrary=function(t){o=t},t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var a=/\s+/,u=t.Events={on:function(t,e,n){var i,r,s,o,u;if(!e)return this;for(t=t.split(a),i=this._callbacks||(this._callbacks={});r=t.shift();)u=i[r],s=u?u.tail:{},s.next=o={},s.context=n,s.callback=e,i[r]={tail:o,next:u?u.next:s};return this},off:function(t,e,n){var i,r,o,u,c,l;if(r=this._callbacks){if(!(t||e||n))return delete this._callbacks,this;for(t=t?t.split(a):s.keys(r);i=t.shift();)if(o=r[i],delete r[i],o&&(e||n))for(u=o.tail;(o=o.next)!==u;)c=o.callback,l=o.context,(e&&c!==e||n&&l!==n)&&this.on(i,c,l);return this}},trigger:function(t){var e,n,r,s,o,u,c;if(!(r=this._callbacks))return this;for(u=r.all,t=t.split(a),c=i.call(arguments,1);e=t.shift();){if(n=r[e])for(s=n.tail;(n=n.next)!==s;)n.callback.apply(n.context||this,c);if(n=u)for(s=n.tail,o=[e].concat(c);(n=n.next)!==s;)n.callback.apply(n.context||this,o)}return this}};u.bind=u.on,u.unbind=u.off;var c=t.Model=function(t,e){var n;t||(t={}),e&&e.parse&&(t=this.parse(t)),(n=S(this,"defaults"))&&(t=s.extend({},n,t)),e&&e.collection&&(this.collection=e.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(t,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes),this.initialize.apply(this,arguments)};s.extend(c.prototype,u,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return s.clone(this.attributes)},get:function(t){return this.attributes[t]},escape:function(t){var e;if(e=this._escapedAttributes[t])return e;var n=this.get(t);return this._escapedAttributes[t]=s.escape(null==n?"":""+n)},has:function(t){return null!=this.get(t)},set:function(t,e,n){var i,r,o;if(s.isObject(t)||null==t?(i=t,n=e):(i={},i[t]=e),n||(n={}),!i)return this;if(i instanceof c&&(i=i.attributes),n.unset)for(r in i)i[r]=void 0;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var a=n.changes={},u=this.attributes,l=this._escapedAttributes,h=this._previousAttributes||{};for(r in i)o=i[r],(!s.isEqual(u[r],o)||n.unset&&s.has(u,r))&&(delete l[r],(n.silent?this._silent:a)[r]=!0),n.unset?delete u[r]:u[r]=o,s.isEqual(h[r],o)&&s.has(u,r)==s.has(h,r)?(delete this.changed[r],delete this._pending[r]):(this.changed[r]=o,n.silent||(this._pending[r]=!0));return n.silent||this.change(n),this},unset:function(t,e){return(e||(e={})).unset=!0,this.set(t,null,e)},clear:function(t){return(t||(t={})).unset=!0,this.set(s.clone(this.attributes),t)},fetch:function(e){e=e?s.clone(e):{};var n=this,i=e.success;return e.success=function(t,r,s){return!!n.set(n.parse(t,s),e)&&void(i&&i(n,t))},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},save:function(e,n,i){var r,o;if(s.isObject(e)||null==e?(r=e,i=n):(r={},r[e]=n),i=i?s.clone(i):{},i.wait){if(!this._validate(r,i))return!1;o=s.clone(this.attributes)}var a=s.extend({},i,{silent:!0});if(r&&!this.set(r,i.wait?a:i))return!1;var u=this,c=i.success;i.success=function(t,e,n){var o=u.parse(t,n);return i.wait&&(delete i.wait,o=s.extend(r||{},o)),!!u.set(o,i)&&void(c?c(u,t):u.trigger("sync",u,t,i))},i.error=t.wrapError(i.error,u,i);var l=this.isNew()?"create":"update",h=(this.sync||t.sync).call(this,l,this,i);return i.wait&&this.set(o,a),h},destroy:function(e){e=e?s.clone(e):{};var n=this,i=e.success,r=function(){n.trigger("destroy",n,n.collection,e)};if(this.isNew())return r(),!1;e.success=function(t){e.wait&&r(),i?i(n,t):n.trigger("sync",n,t,e)},e.error=t.wrapError(e.error,n,e);var o=(this.sync||t.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var t=S(this,"urlRoot")||S(this.collection,"url")||O();return this.isNew()?t:t+("/"==t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(t){t||(t={});var e=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var i=s.extend({},t.changes,this._silent);this._silent={};for(var n in i)this.trigger("change:"+n,this,this.get(n),t);if(e)return this;for(;!s.isEmpty(this._pending);){this._pending={},this.trigger("change",this,t);for(var n in this.changed)this._pending[n]||this._silent[n]||delete this.changed[n];this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(t){return arguments.length?s.has(this.changed,t):!s.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&s.clone(this.changed);var e,n=!1,i=this._previousAttributes;for(var r in t)s.isEqual(i[r],e=t[r])||((n||(n={}))[r]=e);return n},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=s.extend({},this.attributes,t);var n=this.validate(t,e);return!n||(e&&e.error?e.error(this,n,e):this.trigger("error",this,n,e),!1)}});var l=t.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})};s.extend(l.prototype,u,{model:c,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},add:function(t,e){var n,i,o,a,u,c,l={},h={},f=[];for(e||(e={}),t=s.isArray(t)?t.slice():[t],n=0,o=t.length;n<o;n++){if(!(a=t[n]=this._prepareModel(t[n],e)))throw new Error("Can't add an invalid model to a collection");u=a.cid,c=a.id,l[u]||this._byCid[u]||null!=c&&(h[c]||this._byId[c])?f.push(n):l[u]=h[c]=a}for(n=f.length;n--;)t.splice(f[n],1);for(n=0,o=t.length;n<o;n++)(a=t[n]).on("all",this._onModelEvent,this),this._byCid[a.cid]=a,null!=a.id&&(this._byId[a.id]=a);if(this.length+=o,i=null!=e.at?e.at:this.models.length,r.apply(this.models,[i,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(n=0,o=this.models.length;n<o;n++)l[(a=this.models[n]).cid]&&(e.index=n,a.trigger("add",a,this,e));return this},remove:function(t,e){var n,i,r,o;for(e||(e={}),t=s.isArray(t)?t.slice():[t],n=0,i=t.length;n<i;n++)o=this.getByCid(t[n])||this.get(t[n]),o&&(delete this._byId[o.id],delete this._byCid[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,e.silent||(e.index=r,o.trigger("remove",o,this,e)),this._removeReference(o));return this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,e),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,s.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},get:function(t){if(null!=t)return this._byId[null!=t.id?t.id:t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},where:function(t){return s.isEmpty(t)?[]:this.filter(function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},sort:function(t){if(t||(t={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var e=s.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(t){return s.map(this.models,function(e){return e.get(t)})},reset:function(t,e){t||(t=[]),e||(e={});for(var n=0,i=this.models.length;n<i;n++)this._removeReference(this.models[n]);return this._reset(),this.add(t,s.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=this,i=e.success;return e.success=function(t,r,s){n[e.add?"add":"reset"](n.parse(t,s),e),i&&i(n,t)},e.error=t.wrapError(e.error,n,e),(this.sync||t.sync).call(this,"read",this,e)},create:function(t,e){var n=this;if(e=e?s.clone(e):{},t=this._prepareModel(t,e),!t)return!1;e.wait||n.add(t,e);var i=e.success;return e.success=function(r,s,o){e.wait&&n.add(r,e),i?i(r,s):r.trigger("sync",t,s,e)},t.save(null,e),t},parse:function(t,e){return t},chain:function(){return s(this.models).chain()},_reset:function(t){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){if(e||(e={}),t instanceof c)t.collection||(t.collection=this);else{var n=t;e.collection=this,t=new this.model(n,e),t._validate(t.attributes,e)||(t=!1)}return t},_removeReference:function(t){this==t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){("add"!=t&&"remove"!=t||n==this)&&("destroy"==t&&this.remove(e,i),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});var h=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];s.each(h,function(t){l.prototype[t]=function(){return s[t].apply(s,[this.models].concat(s.toArray(arguments)))}});var f=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},d=/:\w+/g,p=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(f.prototype,u,{initialize:function(){},route:function(e,n,i){return t.history||(t.history=new g),s.isRegExp(e)||(e=this._routeToRegExp(e)),i||(i=this[n]),t.history.route(e,s.bind(function(r){var s=this._extractParameters(e,r);i&&i.apply(this,s),this.trigger.apply(this,["route:"+n].concat(s)),t.history.trigger("route",this,n,s)},this)),this},navigate:function(e,n){t.history.navigate(e,n)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)t.unshift([e,this.routes[e]]);for(var n=0,i=t.length;n<i;n++)this.route(t[n][0],t[n][1],this[t[n][1]])}},_routeToRegExp:function(t){return t=t.replace(v,"\\$&").replace(d,"([^/]+)").replace(p,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}});var g=t.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},y=/^[#\/]/,m=/msie [\w.]+/;g.started=!1,s.extend(g.prototype,u,{interval:50,getHash:function(t){var e=t?t.location:window.location,n=e.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||e){t=window.location.pathname;var n=window.location.search;n&&(t+=n)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(y,"")},start:function(t){if(g.started)throw new Error("Backbone.history has already been started");g.started=!0,this.options=s.extend({},{root:"/"},this.options,t),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),n=document.documentMode,i=m.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);i&&(this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e;var r=window.location,a=r.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&r.hash&&(this.fragment=this.getHash().replace(y,""),window.history.replaceState({},document.title,r.protocol+"//"+r.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e!=this.fragment&&(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=s.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0});return n},navigate:function(t,e){if(!g.started)return!1;e&&e!==!0||(e={trigger:e});var n=(t||"").replace(y,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[e.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,e.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,e.replace))):window.location.assign(this.options.root+t),e.trigger&&this.loadUrl(t))},_updateHash:function(t,e,n){n?t.replace(t.toString().replace(/(javascript:|#).*$/,"")+"#"+e):t.hash=e}});var b=t.View=function(t){this.cid=s.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName"];s.extend(b.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,n){var i=document.createElement(t);return e&&o(i).attr(e),n&&o(i).html(n),i},setElement:function(t,e){return this.$el&&this.undelegateEvents(),this.$el=t instanceof o?t:o(t),this.el=this.$el[0],e!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(t||(t=S(this,"events"))){this.undelegateEvents();for(var e in t){var n=t[e];if(s.isFunction(n)||(n=this[t[e]]),!n)throw new Error('Method "'+t[e]+'" does not exist');var i=e.match(_),r=i[1],o=i[2];n=s.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.bind(r,n):this.$el.delegate(o,r,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(t){this.options&&(t=s.extend({},this.options,t));for(var e=0,n=w.length;e<n;e++){var i=w[e];t[i]&&(this[i]=t[i])}this.options=t},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=S(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t.class=this.className),this.setElement(this.make(this.tagName,t),!1)}}});var x=function(t,e){var n=k(this,t,e);return n.extend=this.extend,n};c.extend=l.extend=f.extend=b.extend=x;var E={create:"POST",update:"PUT",delete:"DELETE",read:"GET"};t.sync=function(e,n,i){var r=E[e];i||(i={});var a={type:r,dataType:"json"};return i.url||(a.url=S(n,"url")||O()),i.data||!n||"create"!=e&&"update"!=e||(a.contentType="application/json",a.data=JSON.stringify(n.toJSON())),t.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),t.emulateHTTP&&("PUT"!==r&&"DELETE"!==r||(t.emulateJSON&&(a.data._method=r),a.type="POST",a.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",r)})),"GET"===a.type||t.emulateJSON||(a.processData=!1),o.ajax(s.extend(a,i))},t.wrapError=function(t,e,n){return function(i,r){r=i===e?r:i,t?t(e,r,n):e.trigger("error",e,r,n)}};var A=function(){},k=function(t,e,n){var i;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},s.extend(i,t),A.prototype=t.prototype,i.prototype=new A,e&&s.extend(i.prototype,e),n&&s.extend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i},S=function(t,e){return t&&t[e]?s.isFunction(t[e])?t[e]():t[e]:null},O=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["jquery","underscore"],function(t){return function(){var e;return e||t.Backbone}}(this)),define("app/main1",["jquery","app/lib","app/controller/c1","app/model/m1","backbone","underscore"],function(t,e,n,i,r,s){n.setModel(i),t(function(){n.render(e.getBody()),t("body").append("<div>backbone version: "+r.VERSION+"</div>").append("<div>underscore version: "+s.VERSION+"</div>")})});