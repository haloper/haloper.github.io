<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Insert title here</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.css">
	<style>
		.footer {
			position: absolute;
			bottom: 50px;
		}
	</style>
</head>
<body>

	<div class="container">
		<h3 id="question"></h3>
		<p id="answer" class="lead"></p>
		<div class="footer">
			<button id="next" class="btn btn-default" type="button">Next Question</button>		
			<button id="check" class="btn btn-default" type="button">Check Anser</button>
		</div>
	</div>
	


	<!-- jQuery -->	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	
	<script>
		$(function(){
			$("#check").bind("click", events.clickCheck);
			$("#next").bind("click", events.clickNext);
			$.ajax({
				url: "contents.txt",
				cache: false				
			}).done(function(data) {
				list.onLoad(data);
			});
			
		});
		var list = {
			question: [],
			answer: [],
			length: -1,
			onLoad: function(_data) {
				var array = _data.trim().split("\n");
				for(var  i=0;i<array.length;i++) {
					if(array[i] && array[i].trim() != "") {
						if(array[i].startsWith("$")) { //Question
							this.question[this.question.length] = {
								"question": array[i].substring(1),
								"answerIndex": this.answer.length
							};
						}
						else if(array[i].startsWith("#")) { //Answer
							this.answer[this.answer.length] = array[i].substring(1);
						}
						else if(array[i].startWith("@")) {
							
						}
						else {
							this.answer[this.answer.length - 1] = this.answer[this.answer.length - 1] + "<br>" +  array[i];
						}
					}
				}
				this.length = this.question.length; 
				this.next();
			},
			next: function() {
				var index = Math.floor(Math.random() * this.length);
				$("#answer").hide();
				$("#question").html(this.question[index].question);
				$("#answer").html(this.answer[this.question[index].answerIndex]);
			}
		};
		var events = {
			clickCheck: function(event) {
				$("#answer").show();
			},
			clickNext: function(event) {
				list.next();
			}
		};
	</script>
</body>
</html>
